<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 13 Data management | lab-book.knit</title>
<meta name="author" content="Mark Scheuerell">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.2"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><link href="libs/Open_Sans-0.4.6/font.css" rel="stylesheet">
<script src="libs/bs3compat-0.4.2/transition.js"></script><script src="libs/bs3compat-0.4.2/tabs.js"></script><script src="libs/bs3compat-0.4.2/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/mark.js@8.11.1/dist/mark.min.js"></script><!-- CSS --><link rel="stylesheet" href="style.css">
<meta name="description" content="Data management is one of the most important aspects of our research program. In particular, when we are collecting our own data we must ensure that we use conventional formats for entering data...">
<meta property="og:description" content="Data management is one of the most important aspects of our research program. In particular, when we are collecting our own data we must ensure that we use conventional formats for entering data...">
<meta name="twitter:description" content="Data management is one of the most important aspects of our research program. In particular, when we are collecting our own data we must ensure that we use conventional formats for entering data...">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

<div class="toc-logo"><a href="./"><img src="images/logo.png"></a></div>
    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title=""></a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>
<br><div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><br><ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Welcome</a></li>
<li class="book-part">Background</li>
<li><a class="" href="lab-culture-values.html"><span class="header-section-number">1</span> Lab culture &amp; values</a></li>
<li><a class="" href="expectations.html"><span class="header-section-number">2</span> Expectations</a></li>
<li><a class="" href="code-of-conduct.html"><span class="header-section-number">3</span> Code of Conduct</a></li>
<li class="book-part">Getting started</li>
<li><a class="" href="relocating-to-seattle.html"><span class="header-section-number">4</span> Relocating to Seattle</a></li>
<li><a class="" href="uw-safs.html"><span class="header-section-number">5</span> UW &amp; SAFS</a></li>
<li><a class="" href="scheuerell-lab.html"><span class="header-section-number">6</span> Scheuerell Lab</a></li>
<li><a class="" href="coop-unit.html"><span class="header-section-number">7</span> Coop Unit</a></li>
<li class="book-part">Policies &amp; procedures</li>
<li><a class="" href="communication.html"><span class="header-section-number">8</span> Communication</a></li>
<li><a class="" href="participation.html"><span class="header-section-number">9</span> Participation</a></li>
<li><a class="" href="academics.html"><span class="header-section-number">10</span> Academics</a></li>
<li><a class="" href="collaborations.html"><span class="header-section-number">11</span> Collaborations</a></li>
<li><a class="" href="reproducible.html"><span class="header-section-number">12</span> Reproducible research</a></li>
<li><a class="active" href="data-management.html"><span class="header-section-number">13</span> Data management</a></li>
<li><a class="" href="publications.html"><span class="header-section-number">14</span> Publications</a></li>
<li><a class="" href="presentations.html"><span class="header-section-number">15</span> Presentations</a></li>
<li><a class="" href="rooms-projectors.html"><span class="header-section-number">16</span> Rooms &amp; projectors</a></li>
<li class="book-part">Online presence</li>
<li><a class="" href="personal-website.html"><span class="header-section-number">17</span> Personal website</a></li>
<li><a class="" href="curriculum-vitae-cv.html"><span class="header-section-number">18</span> Curriculum vitae (CV)</a></li>
<li><a class="" href="social-media.html"><span class="header-section-number">19</span> Social Media</a></li>
<li class="book-part">Health &amp; safety</li>
<li><a class="" href="health-well-being.html"><span class="header-section-number">20</span> Health &amp; well-being</a></li>
<li><a class="" href="safety.html"><span class="header-section-number">21</span> Safety</a></li>
<li class="book-part">Lab &amp; Field</li>
<li><a class="" href="in-the-lab.html"><span class="header-section-number">22</span> In the lab</a></li>
<li><a class="" href="in-the-field.html"><span class="header-section-number">23</span> In the field</a></li>
<li><a class="" href="vehicles.html"><span class="header-section-number">24</span> Vehicles</a></li>
<li><a class="" href="boats.html"><span class="header-section-number">25</span> Boats</a></li>
<li class="book-part">Appendices</li>
<li><a class="" href="resources-on-jedi-in-stem.html"><span class="header-section-number">A</span> Resources on JEDI in STEM</a></li>
<li><a class="" href="inclusive-scicomm.html"><span class="header-section-number">B</span> Inclusive SciComm</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/scheuerell-lab/lab-book">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="data-management" class="section level1" number="13">
<h1>
<span class="header-section-number">13</span> Data management<a class="anchor" aria-label="anchor" href="#data-management"><i class="fas fa-link"></i></a>
</h1>
<p><br></p>
<p>Data management is one of the most important aspects of our research program. In particular, when we are collecting our own data we must ensure that we</p>
<ol style="list-style-type: decimal">
<li><p>use conventional formats for entering data into spreadsheets;</p></li>
<li><p>include the necessary metadata to describe the individual fields in a data file;</p></li>
<li><p>create backups of the data and metadata files; and</p></li>
</ol>
<div id="data-chain-of-custody" class="section level3 unnumbered">
<h3>Data chain of custody<a class="anchor" aria-label="anchor" href="#data-chain-of-custody"><i class="fas fa-link"></i></a>
</h3>
<p>Data chain of custody refers to part of a process whereby everyone must insure their analysis is fully reproducible (see Section <a href="reproducible.html#reproducible">12</a>). This includes:</p>
<ul>
<li><p>keeping a copy of the raw data</p></li>
<li><p>recording all of the operations used to generate the clean data</p></li>
<li><p>documenting the contents of the clean data</p></li>
</ul>
</div>
<div id="data-files-formats" class="section level2" number="13.1">
<h2>
<span class="header-section-number">13.1</span> Data files &amp; formats<a class="anchor" aria-label="anchor" href="#data-files-formats"><i class="fas fa-link"></i></a>
</h2>
<p>We ascribe to the “tidy” format for data, wherein each row of a data table or flat file is a unique record and each column is a unique field. <a href="resources/Broman_Woo_2018_spreadsheet_data.pdf">Broman and Woo (2018)</a> provide an excellent overview of data entry and organization in spreadsheets. Here are their take-home messages:</p>
<ul>
<li><p><strong>Be consistent</strong>. This includes names of locations, species, sex, as well as dates and file names.</p></li>
<li><p><strong>Choose good names</strong>. Choose short, but descriptive names for files and avoid spaces in them. For example, <code>L_WA_limno_sampling.csv</code> rather than <code>Lake Washington limnology sampling.csv</code>.</p></li>
<li><p><strong>Write dates as <code>YYYY-MM-DD</code></strong>. This may sound trivial, but it turns out to be really important when working with the file as part of an analysis.</p></li>
<li><p><strong>Don’t leave empty cells</strong>. Although it can be tempting to do so when some aspect of a field or record is to be repeated many times, it can wreak havoc on the resulting object when imported into a software like <strong>R</strong>. In particular, if a cell should be consider empty or null, please enter <code>NA</code>.</p></li>
<li><p><strong>Only include one piece of info in a cell</strong>. For example, you might consider a column/field named <code>plot_sample</code> with a possible value like <code>10A</code>, which would be better separated into 2 columns labeled <code>plot</code> and <code>sample</code> with respective values <code>10</code> and <code>A</code>.</p></li>
<li><p><strong>Do not use color, highlighting, or comments as data</strong>. If the data in a particular cell is otherwise noteworthy for some reason (eg, value is 10X greater than anything else), it’s probably best to add an additional <code>notes</code> column/field to the file and include any comments there.</p></li>
<li><p><strong>No calculations in cells</strong>. Although tempting, resist the urge to add cells with calculations that are based on other cells (eg, <code>=SUM(A1:A3)</code>). Similarly, do not include graphs or pivot tables in your data files either.</p></li>
<li><p><strong>Use data validation</strong>. If you are using Excel for data entry, you can take advantage of its “<a href="https://support.microsoft.com/en-us/office/apply-data-validation-to-cells-29fecbcc-d1b9-42c1-9d76-eff3ce5f7249">data validation</a>” feature, which will help insure that the correct type (eg, text) and value (eg, min/max) are entered into a cell.</p></li>
<li>
<p><strong>Create a data dictionary</strong>. This should be a separate (and tidy) file with some metadata about the columns/fields, which might include the following:</p>
<ul>
<li>The exact variable name as in the data file<br>
</li>
<li>A version of the variable name that might be used in data visualizations<br>
</li>
<li>A longer explanation of what the variable means<br>
</li>
<li>The measurement units<br>
</li>
<li>Expected minimum and maximum values</li>
</ul>
</li>
<li><p><strong>Save the data as plain text</strong>. If using a spreadsheet like Excel to enter your data, export a copy in a plain text format. Although some people like tab delimited files (<code>.txt</code>), we prefer to save our files as comma separated values (<code>.csv</code>). CSV files are nice because you can easily open the file in Excel or another spreadsheet program, but perhaps more importantly, this file format does not require any sort of special software to open it.</p></li>
</ul>
</div>
<div id="metadata" class="section level2" number="13.2">
<h2>
<span class="header-section-number">13.2</span> Metadata<a class="anchor" aria-label="anchor" href="#metadata"><i class="fas fa-link"></i></a>
</h2>
<p>Metadata are simply data that provide information about other data, or in other words, a shorthand representation of the data to which they refer. Metadata benefit science in many ways, including</p>
<ul>
<li><p><strong>Increased data longevity</strong>. Over the course of a scientist’s career she may initiate many different studies, some of which outlast the investigators/students. In addition, many scientists will often contribute information from many areas/fields, each of which may have its own norms, lingo, etc.</p></li>
<li><p><strong>Increased data reuse &amp; sharing</strong>. Metadata can help other scientists understand whether or not a dataset could be of use to them in their own studies. It also greatly facilitates meta-analyses.</p></li>
<li><p><strong>Expanded scales/scopes of analyses</strong>. In some cases, short-term studies evolve into long-term programs, and the metadata can help people understand when and how new data can be incorporated into the program. It also facilitates creativity among researchers.</p></li>
</ul>
<p>One of the most common questions about metadata is, “How much metadata is enough?” The answer is based on two factors:</p>
<ol style="list-style-type: decimal">
<li><p>the effort involved in creating the metadata</p></li>
<li><p>the value derived from it</p></li>
</ol>
<p>In general, it’s best to assume that “more is better”.</p>
<div id="ecological-metadata-language-eml" class="section level3" number="13.2.1">
<h3>
<span class="header-section-number">13.2.1</span> Ecological Metadata Language (EML)<a class="anchor" aria-label="anchor" href="#ecological-metadata-language-eml"><i class="fas fa-link"></i></a>
</h3>
<p>EML reduces ambiguity and uncertainty by formalizing metadata concepts via a comprehensive and standardized set of terms that are intended specifically for ecological data. EML contains various categories of information of the dataset.</p>
<div id="general-dataset" class="section level4 unnumbered">
<h4>General dataset<a class="anchor" aria-label="anchor" href="#general-dataset"><i class="fas fa-link"></i></a>
</h4>
<ul>
<li>identify and name the dataset<br>
</li>
<li>describe the purpose of the data collection<br>
</li>
<li>describe the questions the data were intended to address</li>
</ul>
</div>
<div id="geographic" class="section level4 unnumbered">
<h4>Geographic<a class="anchor" aria-label="anchor" href="#geographic"><i class="fas fa-link"></i></a>
</h4>
<ul>
<li>where the research project took place<br>
</li>
<li>where the samples were collected<br>
</li>
<li>spatial or geographic references (UTM, lat/lon)</li>
</ul>
</div>
<div id="temporal" class="section level4 unnumbered">
<h4>Temporal<a class="anchor" aria-label="anchor" href="#temporal"><i class="fas fa-link"></i></a>
</h4>
<ul>
<li>range of dates (eg, monthly between June 2019 and Dec 2020)<br>
</li>
<li>specific time periods (eg, 01 May 2019, 08:00–12:00)<br>
</li>
<li>gaps in time (eg, no data from July 2020 because of power loss)</li>
</ul>
</div>
<div id="taxonomic" class="section level4 unnumbered">
<h4>Taxonomic<a class="anchor" aria-label="anchor" href="#taxonomic"><i class="fas fa-link"></i></a>
</h4>
<ul>
<li>taxonomic authority (book or system used to identify species)<br>
</li>
<li>taxonomic rank (family, genus, species)</li>
</ul>
</div>
<div id="methods" class="section level4 unnumbered">
<h4>Methods<a class="anchor" aria-label="anchor" href="#methods"><i class="fas fa-link"></i></a>
</h4>
<ul>
<li>instruments or devices used to collect data<br>
</li>
<li>protocols</li>
<li>units of the samples</li>
</ul>
</div>
<div id="data-table" class="section level4 unnumbered">
<h4>Data table<a class="anchor" aria-label="anchor" href="#data-table"><i class="fas fa-link"></i></a>
</h4>
<ul>
<li>
<em>name</em> is a unique name for the field/column (<code>date</code>)<br>
</li>
<li>
<em>label</em> describes the field/column (“date of sample collection)<br>
</li>
<li>
<em>definition</em> indicates what the values represent (length of a fish)<br>
</li>
<li>
<em>units</em> (grams, meters)<br>
</li>
<li>
<em>type</em> (<code>numeric</code>, <code>character</code>)<br>
</li>
<li>
<em>precision</em> (mm)<br>
</li>
<li>
<em>attribute domain description</em> defines codes &amp; domain of values
<ul>
<li>
<code>BVA = Bear Valley Creek</code><br>
</li>
<li>
<code>Length</code> is a positive, real value</li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<div id="data-storage" class="section level2" number="13.3">
<h2>
<span class="header-section-number">13.3</span> Data storage<a class="anchor" aria-label="anchor" href="#data-storage"><i class="fas fa-link"></i></a>
</h2>
<p>Where and how to store your data is an important consideration. In general, you are responsible for backing up your data to the cloud, which may involve one or more options.</p>
<div id="github-2" class="section level3" number="13.3.1">
<h3>
<span class="header-section-number">13.3.1</span> GitHub<a class="anchor" aria-label="anchor" href="#github-2"><i class="fas fa-link"></i></a>
</h3>
<p>Each research project (or chapter of a thesis/dissertation) should have a corresponding repository in GitHub. At the outset, students and postdocs may choose to create these repos under their own GitHub username, with the expectation that they also invite Mark as a formal collaborator. As people finish projects, the corresponding repo should be transferred over to the lab’s <a href="https://github.com/scheuerell-lab">GitHub organization</a>.</p>
<p>Data for your project should be pushed/pulled from GitHub as part of your regular workflow. Each project repo should be set up as a “<a href="https://fish497.github.io/website/lectures/week_01/lec_03_orgs_styles.html">research compendium</a>” following one of the templates <a href="https://github.com/scheuerell-lab/onboarding/tree/master/templates">here</a>. Each compendium should be structured with a <code>/data</code> folder that contains sub-folders for raw and derived (“cleaned”) datasets. It is important that you <strong>do not</strong> revise the raw data files outside of your workflow, and instead keep unchanged versions of them in the <code>/data/raw</code> folder.</p>
</div>
<div id="others" class="section level3" number="13.3.2">
<h3>
<span class="header-section-number">13.3.2</span> Others<a class="anchor" aria-label="anchor" href="#others"><i class="fas fa-link"></i></a>
</h3>
<p>In some cases you may need to rely on another cloud option for data storage or access. For example, a colleague or project collaborator my have information stored on iCloud, Dropbox, or Google Drive. You might also elect to use one of these options as another form of backup for your own data, but if you should choose to do so, be aware that formal version software like Git and the auto-sync features of other platforms may not play nicely together.</p>
</div>
</div>
<div id="data-archival" class="section level2" number="13.4">
<h2>
<span class="header-section-number">13.4</span> Data archival<a class="anchor" aria-label="anchor" href="#data-archival"><i class="fas fa-link"></i></a>
</h2>
<p>Upon completion of a project, all data will be archived in a formal repository and given a unique digital object identifier. In many cases this is a strict requirement of granting agencies and peer-reviewed journals. There are many data archival services available now, some of which charge for the service.</p>
<div id="zenodo" class="section level3" number="13.4.1">
<h3>
<span class="header-section-number">13.4.1</span> Zenodo<a class="anchor" aria-label="anchor" href="#zenodo"><i class="fas fa-link"></i></a>
</h3>
<p><a href="https://zenodo.org/">Zenodo</a> is one of the more popular archival services because it’s free and easy to use. It also <a href="https://guides.github.com/activities/citable-code/">integrates nicely with GitHub</a>.</p>
</div>
<div id="usgs" class="section level3" number="13.4.2">
<h3>
<span class="header-section-number">13.4.2</span> USGS<a class="anchor" aria-label="anchor" href="#usgs"><i class="fas fa-link"></i></a>
</h3>
<p>USGS also offers a data archival service, which some of our projects use.</p>

</div>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="reproducible.html"><span class="header-section-number">12</span> Reproducible research</a></div>
<div class="next"><a href="publications.html"><span class="header-section-number">14</span> Publications</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li>
<a class="nav-link" href="#data-management"><span class="header-section-number">13</span> Data management</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#data-chain-of-custody">Data chain of custody</a></li></ul>
</li>
<li><a class="nav-link" href="#data-files-formats"><span class="header-section-number">13.1</span> Data files &amp; formats</a></li>
<li>
<a class="nav-link" href="#metadata"><span class="header-section-number">13.2</span> Metadata</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#ecological-metadata-language-eml"><span class="header-section-number">13.2.1</span> Ecological Metadata Language (EML)</a></li></ul>
</li>
<li>
<a class="nav-link" href="#data-storage"><span class="header-section-number">13.3</span> Data storage</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#github-2"><span class="header-section-number">13.3.1</span> GitHub</a></li>
<li><a class="nav-link" href="#others"><span class="header-section-number">13.3.2</span> Others</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#data-archival"><span class="header-section-number">13.4</span> Data archival</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#zenodo"><span class="header-section-number">13.4.1</span> Zenodo</a></li>
<li><a class="nav-link" href="#usgs"><span class="header-section-number">13.4.2</span> USGS</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/scheuerell-lab/lab-book/blob/master/data.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/scheuerell-lab/lab-book/edit/master/data.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>Edited by Mark Scheuerell</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>Built with <a class="text-light" href="https://bookdown.org">bookdown</a> on 2023-11-02 </p>
  </div>


</div></div>
</footer>
</body>
</html>
